---
phase: 08-windows-acl-telegram-threading
plan: 04
type: execute
wave: 2
depends_on: ["08-01", "08-02"]
files_modified:
  - package.json
  - src/**/*.test.js
  - docs/start/**
  - docs/install/**
  - docs/docs.json
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Dependencies are updated per upstream"
    - "Test helper files are typechecked or equivalent JS update applied"
    - "Start and install docs are streamlined"
    - "Install overview page is renamed"
  artifacts:
    - path: "docs/install/**"
      provides: "Streamlined install documentation"
    - path: "docs/start/**"
      provides: "Streamlined start documentation"
  key_links:
    - from: "docs/docs.json"
      to: "docs/install/**"
      via: "navigation entries"
      pattern: "install"
---

<objective>
Port dependency update, test helper typecheck, and docs streamlining (SYNC-031 to SYNC-034)

Purpose: Update dependencies, apply test helper changes, and streamline installation/start documentation
Output: Four commits matching upstream (SYNC-031, SYNC-032, SYNC-033, SYNC-034)
</objective>

<execution_context>
@/Users/slathrop/.claude/get-shit-done/workflows/execute-plan.md
@/Users/slathrop/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-windows-acl-telegram-threading/08-RESEARCH.md
</context>

<upstream_workflow>
For each commit in this plan:
1. Fetch and show upstream diff: `git fetch upstream && git show <hash> --stat && git show <hash>`
2. Understand the change (read PR if needed: `gh pr view <number> --repo openclaw/openclaw`)
3. Apply equivalent JavaScript change to local files
4. Run targeted tests if code changed, skip for docs-only
5. Commit with --no-verify (wave-level test gate handles full suite): `scripts/committer --no-verify "<message>" <files...>`
</upstream_workflow>

<tasks>

<task type="auto">
  <name>Task 1: SYNC-031 - Update deps</name>
  <files>package.json (and possibly pnpm-lock.yaml)</files>
  <action>
Port commit 460808e0c (Update deps.)

1. Read the upstream diff:
   ```bash
   git fetch upstream
   git show 460808e0c --stat
   git show 460808e0c
   ```

2. Understand the change:
   - "Update deps." is vague -- read the actual diff to see which dependencies changed
   - This JS repo may have different dependency versions than upstream TS repo
   - Some deps may already be at the target version or not applicable

3. Apply based on findings:
   - **If deps overlap with this repo:** Update matching dependencies in package.json
   - **If deps don't apply:** Create empty tracking commit:
     ```bash
     git commit --allow-empty --no-verify -m "Update deps."
     ```
   - **If partial overlap:** Apply only applicable dep changes
   - IMPORTANT: Do NOT update patched dependencies (check `pnpm.patchedDependencies` in package.json). Do NOT update the Carbon dependency per CLAUDE.md.

4. If deps changed, run install:
   ```bash
   pnpm install
   ```

5. Commit with matching message:
   ```bash
   scripts/committer --no-verify "Update deps." package.json pnpm-lock.yaml
   ```
  </action>
  <verify>`git log -1` shows correct message; if deps changed, `pnpm install` succeeds</verify>
  <done>Commit 460808e0c ported as SYNC-031, applicable dependencies updated</done>
</task>

<task type="auto">
  <name>Task 2: SYNC-032 - Typecheck test helper files</name>
  <files>Depends on upstream diff -- may be test helper .js files or no-op</files>
  <action>
Port commit 8b8451231 (chore: Typecheck test helper files.)

1. Read the upstream diff:
   ```bash
   git show 8b8451231 --stat
   git show 8b8451231
   ```

2. Understand the change:
   - Upstream TypeScript repo adds typecheck coverage to test helper files
   - In this JavaScript repo, there is no tsc typecheck
   - Possible equivalents: JSDoc additions to test helpers, or structural changes that improve type safety

3. Apply based on findings:
   - **If upstream adds type annotations/imports to .ts test helpers:** Check if there's a meaningful JS equivalent (JSDoc annotations on test helper functions)
   - **If it's purely tsconfig/typecheck config changes:** Create empty tracking commit:
     ```bash
     git commit --allow-empty --no-verify -m "chore: Typecheck test helper files."
     ```
   - **If there are structural code changes alongside typecheck:** Apply those changes

4. Commit with matching message:
   ```bash
   scripts/committer --no-verify "chore: Typecheck test helper files." <affected files if any>
   ```
  </action>
  <verify>`git log -1` shows correct message</verify>
  <done>Commit 8b8451231 ported as SYNC-032, test helpers updated or documented as no-op</done>
</task>

<task type="auto">
  <name>Task 3: SYNC-033 + SYNC-034 - Streamline start/install docs and rename install page</name>
  <files>docs/start/**, docs/install/**, docs/docs.json</files>
  <action>
Port TWO commits in sequence:

**SYNC-033:** commit 675c26b2b (Docs: streamline start and install docs (#9648))

1. Read the upstream diff:
   ```bash
   git show 675c26b2b --stat
   git show 675c26b2b
   ```

2. Apply the documentation changes:
   - Update/restructure docs/start/ and docs/install/ pages
   - These are Mintlify docs (markdown) -- apply content changes directly
   - If docs.json navigation entries change, update those too
   - Docs content must be generic: no personal device names/hostnames/paths (per CLAUDE.md)

3. Commit:
   ```bash
   scripts/committer --no-verify "Docs: streamline start and install docs (#9648)" docs/start/ docs/install/ docs/docs.json
   ```

**SYNC-034:** commit 34424ce53 (docs(install): rename install overview page)

4. Read the upstream diff:
   ```bash
   git show 34424ce53 --stat
   git show 34424ce53
   ```

5. Apply the rename:
   - Use `git mv` for the file rename to preserve history
   - Update any references to the old filename in docs.json or other docs
   - Update internal doc links (root-relative, no .md/.mdx extension per CLAUDE.md)

6. Commit:
   ```bash
   scripts/committer --no-verify "docs(install): rename install overview page" <affected files>
   ```
  </action>
  <verify>`git log -2 --oneline` shows both commits in order</verify>
  <done>Commits 675c26b2b and 34424ce53 ported as SYNC-033/034, docs streamlined and page renamed</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `git log -4 --oneline` shows four commits in correct order
2. Commits match upstream messages:
   - Update deps.
   - chore: Typecheck test helper files.
   - Docs: streamline start and install docs (#9648)
   - docs(install): rename install overview page
3. Docs pages are valid and reference each other correctly
</verification>

<success_criteria>
- 4 commits created matching SYNC-031, SYNC-032, SYNC-033, SYNC-034
- Dependencies updated (or documented as N/A)
- Start/install docs are streamlined
- Install overview page is renamed with updated references
</success_criteria>

<output>
After completion, create `.planning/phases/08-windows-acl-telegram-threading/08-04-SUMMARY.md`
</output>
